this.msgpack||function(e){function c(e,t){u=0;var n=p([],e,0);return u?false:t?v(n):n}function h(e){s=typeof e==="string"?b(e):e;o=-1;return d()}function p(e,t,n){var r,i,s,o,f,c,h,d,v,m;if(t==null){e.push(192)}else if(t===false){e.push(194)}else if(t===true){e.push(195)}else{switch(typeof t){case"number":if(t!==t){e.push(203,255,255,255,255,255,255,255,255)}else if(t===Infinity){e.push(203,127,240,0,0,0,0,0,0)}else if(Math.floor(t)===t){if(t<0){if(t>=-32){e.push(224+t+32)}else if(t>-128){e.push(208,t+256)}else if(t>-32768){t+=65536;e.push(209,t>>8,t&255)}else if(t>-2147483648){t+=4294967296;e.push(210,t>>>24,t>>16&255,t>>8&255,t&255)}else{c=Math.floor(t/4294967296);h=t&4294967295;e.push(211,c>>24&255,c>>16&255,c>>8&255,c&255,h>>24&255,h>>16&255,h>>8&255,h&255)}}else{if(t<128){e.push(t)}else if(t<256){e.push(204,t)}else if(t<65536){e.push(205,t>>8,t&255)}else if(t<4294967296){e.push(206,t>>>24,t>>16&255,t>>8&255,t&255)}else{c=Math.floor(t/4294967296);h=t&4294967295;e.push(207,c>>24&255,c>>16&255,c>>8&255,c&255,h>>24&255,h>>16&255,h>>8&255,h&255)}}}else{d=t<0;d&&(t*=-1);v=Math.log(t)/.6931471805599453+1023|0;m=t*Math.pow(2,52+1023-v);h=m&4294967295;d&&(v|=2048);c=m/4294967296&1048575|v<<20;e.push(203,c>>24&255,c>>16&255,c>>8&255,c&255,h>>24&255,h>>16&255,h>>8&255,h&255)}break;case"string":s=t.length;f=e.length;e.push(0);for(i=0;i<s;++i){o=t.charCodeAt(i);if(o<128){e.push(o&127)}else if(o<2048){e.push(o>>>6&31|192,o&63|128)}else if(o<65536){e.push(o>>>12&15|224,o>>>6&63|128,o&63|128)}}r=e.length-f-1;if(r<32){e[f]=160+r}else if(r<65536){e.splice(f,1,218,r>>8,r&255)}else if(r<4294967296){e.splice(f,1,219,r>>>24,r>>16&255,r>>8&255,r&255)}break;default:if(++n>=l){u=1;return e=[]}if(a(t)){r=t.length;if(r<16){e.push(144+r)}else if(r<65536){e.push(220,r>>8,r&255)}else if(r<4294967296){e.push(221,r>>>24,r>>16&255,r>>8&255,r&255)}for(i=0;i<r;++i){p(e,t[i],n)}}else{f=e.length;e.push(0);r=0;for(i in t){++r;p(e,i,n);p(e,t[i],n)}if(r<16){e[f]=128+r}else if(r<65536){e.splice(f,1,222,r>>8,r&255)}else if(r<4294967296){e.splice(f,1,223,r>>>24,r>>16&255,r>>8&255,r&255)}}}}return e}function d(){var e,t,n,r,i=0,u,a,l,c,h,p=s,m=p[++o];if(m>=224){return m-256}if(m<192){if(m<128){return m}if(m<144){i=m-128;m=128}else if(m<160){i=m-144;m=144}else{i=m-160;m=160}}switch(m){case 192:return null;case 194:return false;case 195:return true;case 202:i=p[++o]*16777216+(p[++o]<<16)+(p[++o]<<8)+p[++o];u=i&2147483648;a=i>>23&255;l=i&8388607;if(!i||i===2147483648){return 0}if(a===255){return l?NaN:Infinity}return(u?-1:1)*(l|8388608)*Math.pow(2,a-127-23);case 203:i=p[++o]*16777216+(p[++o]<<16)+(p[++o]<<8)+p[++o];u=i&2147483648;a=i>>20&2047;l=i&1048575;if(!i||i===2147483648){o+=4;return 0}if(a===2047){o+=4;return l?NaN:Infinity}i=p[++o]*16777216+(p[++o]<<16)+(p[++o]<<8)+p[++o];return(u?-1:1)*((l|1048576)*Math.pow(2,a-1023-20)+i*Math.pow(2,a-1023-52));case 207:i=p[++o]*16777216+(p[++o]<<16)+(p[++o]<<8)+p[++o];return i*4294967296+p[++o]*16777216+(p[++o]<<16)+(p[++o]<<8)+p[++o];case 206:i+=p[++o]*16777216+(p[++o]<<16);case 205:i+=p[++o]<<8;case 204:return i+p[++o];case 211:i=p[++o];if(i&128){return((i^255)*72057594037927940+(p[++o]^255)*281474976710656+(p[++o]^255)*1099511627776+(p[++o]^255)*4294967296+(p[++o]^255)*16777216+(p[++o]^255)*65536+(p[++o]^255)*256+(p[++o]^255)+1)*-1}return i*72057594037927940+p[++o]*281474976710656+p[++o]*1099511627776+p[++o]*4294967296+p[++o]*16777216+p[++o]*65536+p[++o]*256+p[++o];case 210:i=p[++o]*16777216+(p[++o]<<16)+(p[++o]<<8)+p[++o];return i<2147483648?i:i-4294967296;case 209:i=(p[++o]<<8)+p[++o];return i<32768?i:i-65536;case 208:i=p[++o];return i<128?i:i-256;case 219:i+=p[++o]*16777216+(p[++o]<<16);case 218:i+=(p[++o]<<8)+p[++o];case 160:for(c=[],t=o,n=t+i;t<n;){r=p[++t];c.push(r<128?r:r<224?(r&31)<<6|p[++t]&63:(r&15)<<12|(p[++t]&63)<<6|p[++t]&63)}o=t;return c.length<10240?f.apply(null,c):v(c);case 223:i+=p[++o]*16777216+(p[++o]<<16);case 222:i+=(p[++o]<<8)+p[++o];case 128:h={};while(i--){e=p[++o]-160;for(c=[],t=o,n=t+e;t<n;){r=p[++t];c.push(r<128?r:r<224?(r&31)<<6|p[++t]&63:(r&15)<<12|(p[++t]&63)<<6|p[++t]&63)}o=t;h[f.apply(null,c)]=d()}return h;case 221:i+=p[++o]*16777216+(p[++o]<<16);case 220:i+=(p[++o]<<8)+p[++o];case 144:c=[];while(i--){c.push(d())}return c}return}function v(e){try{return f.apply(this,e)}catch(t){}var n=[],i=0,s=e.length,o=r;for(;i<s;++i){n[i]=o[e[i]]}return n.join("")}function m(e,t,n){t.method="GET";t.binary=true;y(e,t,n)}function g(t,n,r){n.method="PUT";n.binary=true;if(n.worker&&e.Worker){var i=new Worker(msgpack.worker);i.onmessage=function(e){n.data=e.data;y(t,n,r)};i.postMessage({method:"pack",data:n.data})}else{n.data=E(c(n.data));y(t,n,r)}}function y(n,r,i){function s(){if(v.readyState===4){var n,s=v.status,o,a,l={status:s,ok:s>=200&&s<300};if(!(m++)){if(f==="PUT"){n=l.ok?v.responseText:""}else{if(l.ok){if(r.worker&&e.Worker){o=new Worker(msgpack.worker);o.onmessage=function(e){i(e.data,r,l)};o.postMessage({method:"unpack",data:v.responseText});u();return}else{a=t?w(v):b(v.responseText);n=h(a)}}}p&&p(v,r,l);i(n,r,l);u()}}}function o(e,t){if(!(m++)){var n={status:t||400,ok:false};p&&p(v,r,n);i(null,r,n);u(e)}}function u(t){t&&v&&v.abort&&v.abort();a&&(clearTimeout(a),a=0);v=null;e.addEventListener&&e.removeEventListener("beforeunload",o,false)}var a=0,f=r.method||"GET",l=r.header||{},c=r.before,p=r.after,d=r.data||null,v=e.XMLHttpRequest?new XMLHttpRequest:e.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):null,m=0,g,y="overrideMimeType",E="setRequestHeader",S=f==="GET"&&r.binary;try{v.onreadystatechange=s;v.open(f,n,true);c&&c(v,r);S&&v[y]&&v[y]("text/plain; charset=x-user-defined");d&&v[E]("Content-Type","application/x-www-form-urlencoded");for(g in l){v[E](g,l[g])}e.addEventListener&&e.addEventListener("beforeunload",o,false);v.send(d);a=setTimeout(function(){o(1,408)},(r.timeout||10)*1e3)}catch(x){o(0,400)}}function b(e){var t=[],r=n,i,s=e.split(""),o=-1,u;u=s.length;i=u%8;while(i--){++o;t[o]=r[s[o]]}i=u>>3;while(i--){t.push(r[s[++o]],r[s[++o]],r[s[++o]],r[s[++o]],r[s[++o]],r[s[++o]],r[s[++o]],r[s[++o]])}return t}function w(e){var t=[],n,r,i="charCodeAt",s,o,u,a,f,l,c,h,p,d=-1,v;v=vblen(e);n=vbstr(e);s=Math.ceil(v/2);r=s%8;while(r--){o=n[i](++d);t.push(o&255,o>>8)}r=s>>3;while(r--){o=n[i](++d);u=n[i](++d);a=n[i](++d);f=n[i](++d);l=n[i](++d);c=n[i](++d);h=n[i](++d);p=n[i](++d);t.push(o&255,o>>8,u&255,u>>8,a&255,a>>8,f&255,f>>8,l&255,l>>8,c&255,c>>8,h&255,h>>8,p&255,p>>8)}v%2&&t.pop();return t}function E(t){var n=[],s=0,o=-1,u=t.length,a=[0,2,1][t.length%3],f=r,l=i;if(e.btoa){while(o<u){n.push(f[t[++o]])}return btoa(n.join(""))}--u;while(o<u){s=t[++o]<<16|t[++o]<<8|t[++o];n.push(l[s>>18&63],l[s>>12&63],l[s>>6&63],l[s&63])}a>1&&(n[n.length-2]="=");a>0&&(n[n.length-1]="=");return n.join("")}e.msgpack={pack:c,unpack:h,worker:"msgpack.js",upload:g,download:m};var t=/MSIE/.test(navigator.userAgent),n={},r={},i=("ABCDEFGHIJKLMNOPQRSTUVWXYZ"+"abcdefghijklmnopqrstuvwxyz0123456789+/").split(""),s=[],o=0,u=0,a=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},f=String.fromCharCode,l=512;self.importScripts&&(onmessage=function(e){if(e.data.method==="pack"){postMessage(E(c(e.data.data)))}else{postMessage(h(e.data.data))}});(function(){var e=0,t;for(;e<256;++e){t=f(e);n[t]=e;r[e]=t}for(e=128;e<256;++e){n[f(63232+e)]=e}})();t&&document.write('<script type="text/vbscript">Function vblen(b)vblen=LenB(b.responseBody)End Function\nFunction vbstr(b)vbstr=CStr(b.responseBody)+chr(0)End Function</'+"script>")}(this)