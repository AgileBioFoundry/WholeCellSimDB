{% extends "base.html" %}

{% comment %}
List simulation batches page

Author: Jonathan Karr, jkarr@stanford.edu
Affiliation: Covert Lab, Department of Bioengineering, Stanford University
Created: 2013-09-13
{% endcomment %}

{% load static %}

{% block head_title %}{{ block.super }} :: Advanced search :: Results{% endblock %}

{% block content %}

<div>
<h1>Advanced search :: Results</h1>

<h2>Organisms</h2>
<table class="table">
    <thead>
        <tr>
            <th>Name</th>
            <th>Versions</th>
            <th>Investigators</th>
            <th>Batches</th>
            <th>Simulations</th>
        </tr>
    </thead>
    <tbody>
        {% for organism in organisms %}
        <tr>
            <td><a href="{% url wcdb.views.organism id=organism.id %}">{{ organism.name }}</a></td>
            <td>{{ organism.n_version }}</td>
            <td>{{ organism.n_investigator }}</td>
            <td>{{ organism.n_simulation_batch }}</td>
            <td>{{ organism.n_simulation }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<h2>Simulation batches</h2>
<table class="table list_batches">
    <thead>
        <tr>
            <th colspan="2">Organism</th>
            <th colspan="4">Simulation batch</th>
        </tr>
        <tr>
            <th>Name</th>
            <th>Version</th>
            <th>Name</th>
            <th>No. simulations</th>
            <th>Investigator</th>
            <th>Date</th>
        </tr>
    </thead>
    <tbody>
        {% for batch in batches %}
        <tr>
            <td><a href="{% url wcdb.views.organism id=batch.organism.id %}">{{ batch.organism.name }}</a></td>
            <td>{{ batch.organism_version }}</td>
            <td><a href="{% url wcdb.views.simulation_batch id=batch.id %}">{{ batch.name }}</a></td>
            <td>{{ batch.simulations.all|length }}</td>
            <td><a href="{% url wcdb.views.investigator id=batch.investigator.id %}">{{ batch.investigator.user.get_full_name }}</a></td>
            <td>{{ batch.date|date:"M j, Y" }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

</div>

{% endblock %}